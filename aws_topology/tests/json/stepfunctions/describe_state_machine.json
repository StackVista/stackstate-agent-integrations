{
    "stateMachineArn": "arn:aws:states:eu-west-1:290794210101:stateMachine:StepFunctionsStateMachine-cLtKjmzGLpw8",
    "name": "StepFunctionsStateMachine-cLtKjmzGLpw8",
    "status": "ACTIVE",
    "definition": "{\n  \"Comment\" : \"Test State Machine\",\n  \"StartAt\" : \"ParallelRun\",\n  \"States\" : {\n    \"Activity\" : {\n      \"Next\" : \"NoFinish\",\n      \"Resource\" : \"arn:aws:states:eu-west-1:290794210101:activity:TestActivity\",\n      \"Type\" : \"Task\"\n    },\n    \"ApiMap\" : {\n      \"ItemsPath\" : \"$.tomap\",\n      \"Iterator\" : {\n        \"StartAt\" : \"ApiGateway\",\n        \"States\" : {\n          \"ApiGateway\" : {\n            \"End\" : true,\n            \"Parameters\" : {\n              \"ApiEndpoint\" : \"z3scu84808.execute-api.eu-west-1.amazonaws.com\",\n              \"AuthType\" : \"NO_AUTH\",\n              \"Headers\" : { },\n              \"Method\" : \"GET\",\n              \"Path\" : \"/test\",\n              \"QueryParameters\" : { },\n              \"RequestBody\" : {\n                \"Payload\" : {\n                  \"message\" : \"test\"\n                }\n              },\n              \"Stage\" : \"test\"\n            },\n            \"Resource\" : \"arn:aws:states:::apigateway:invoke\",\n            \"Type\" : \"Task\"\n          }\n        }\n      },\n      \"Next\" : \"FakeChoice\",\n      \"Type\" : \"Map\"\n    },\n    \"FakeChoice\" : {\n      \"Choices\" : [ {\n        \"Next\" : \"Activity\",\n        \"StringEquals\" : \"ThisWillFail\",\n        \"Variable\" : \"$[0].ResponseBody\"\n      } ],\n      \"Default\" : \"Finish\",\n      \"Type\" : \"Choice\"\n    },\n    \"FakeInput\" : {\n      \"Next\" : \"ApiMap\",\n      \"Result\" : {\n        \"tomap\" : [ 1, 2, 3 ]\n      },\n      \"Type\" : \"Pass\"\n    },\n    \"Finish\" : {\n      \"Type\" : \"Succeed\"\n    },\n    \"NoFinish\" : {\n      \"Type\" : \"Fail\"\n    },\n    \"ParallelRun\" : {\n      \"Branches\" : [ {\n        \"StartAt\" : \"ECS\",\n        \"States\" : {\n          \"ECS\" : {\n            \"End\" : true,\n            \"Parameters\" : {\n              \"Cluster\" : \"arn:aws:ecs:eu-west-1:290794210101:cluster/elvin-stackstate-tests-main-account-main-region-EcsCluster-QAt7B7u3rss9\",\n              \"LaunchType\" : \"EC2\",\n              \"TaskDefinition\" : \"arn:aws:ecs:eu-west-1:290794210101:task-definition/elvin-stackstate-tests-main-account-main-region-EcsTaskDefinition-2BeEG06Qwhoq:1\"\n            },\n            \"Resource\" : \"arn:aws:states:::ecs:runTask\",\n            \"Type\" : \"Task\"\n          }\n        }\n      }, {\n        \"StartAt\" : \"SNS\",\n        \"States\" : {\n          \"SNS\" : {\n            \"Next\" : \"SQS\",\n            \"Parameters\" : {\n              \"Message\" : {\n                \"Input\" : \"Testing 123\"\n              },\n              \"TopicArn\" : \"arn:aws:sns:eu-west-1:290794210101:elvin-stackstate-tests-main-account-main-region-SnsTopic-1MQ0AIIPHC352\"\n            },\n            \"Resource\" : \"arn:aws:states:::sns:publish\",\n            \"Type\" : \"Task\"\n          },\n          \"SQS\" : {\n            \"Next\" : \"SQSSecondaryRegion\",\n            \"Parameters\" : {\n              \"MessageBody\" : {\n                \"Input\" : \"testing\"\n              },\n              \"QueueUrl\" : \"https://sqs.eu-west-1.amazonaws.com/290794210101/elvin-stackstate-tests-main-account-main-region-SqsQueue-12QD0SDWO9WV1\"\n            },\n            \"Resource\" : \"arn:aws:states:::sqs:sendMessage\",\n            \"Type\" : \"Task\"\n          },\n          \"SQSSecondaryRegion\" : {\n            \"End\" : true,\n            \"Parameters\" : {\n              \"MessageBody\" : {\n                \"Input\" : \"testing\"\n              },\n              \"QueueUrl\" : \"https://sqs.us-east-1.amazonaws.com/290794210101/elvin-stackstate-main-account-secondary-region-SqsQueue-142V2KSEY368Y\"\n            },\n            \"Resource\" : \"arn:aws:states:::sqs:sendMessage\",\n            \"Type\" : \"Task\"\n          }\n        }\n      }, {\n        \"StartAt\" : \"Lambda\",\n        \"States\" : {\n          \"DynamoDB\" : {\n            \"End\" : true,\n            \"Parameters\" : {\n              \"Item\" : {\n                \"key\" : {\n                  \"S\" : \"testing\"\n                }\n              },\n              \"TableName\" : \"elvin-stackstate-tests-main-account-main-region-DynamoDbTable-16SXEQ30MM5RN\"\n            },\n            \"Resource\" : \"arn:aws:states:::dynamodb:putItem\",\n            \"Type\" : \"Task\"\n          },\n          \"Lambda\" : {\n            \"Next\" : \"LambdaOldVersion\",\n            \"Parameters\" : {\n              \"FunctionName\" : \"arn:aws:lambda:eu-west-1:290794210101:function:elvin-stackstate-tests-main-account-LambdaFunction-199Z59KY5LNOM:$LATEST\",\n              \"Payload\" : {\n                \"Input\" : {\n                  \"message\" : \"World\"\n                }\n              }\n            },\n            \"Resource\" : \"arn:aws:states:::lambda:invoke\",\n            \"Type\" : \"Task\"\n          },\n          \"LambdaOldVersion\" : {\n            \"Next\" : \"DynamoDB\",\n            \"Parameters\" : {\n              \"FunctionName\" : \"arn:aws:lambda:eu-west-1:290794210101:function:elvin-stackstate-tests-main-account-LambdaFunction-199Z59KY5LNOM:1\",\n              \"Payload\" : {\n                \"Input\" : {\n                  \"message\" : \"Old\"\n                }\n              }\n            },\n            \"Resource\" : \"arn:aws:states:::lambda:invoke\",\n            \"Type\" : \"Task\"\n          }\n        }\n      } ],\n      \"Next\" : \"FakeInput\",\n      \"Type\" : \"Parallel\"\n    }\n  }\n}",
    "roleArn": "arn:aws:iam::290794210101:role/elvin-stackstate-tests-main-a-StepFunctionsIamRole-1MU2YYEEMBFWP",
    "type": "STANDARD",
    "creationDate": "2021-04-29 16:48:46.349000+02:00",
    "loggingConfiguration": {
      "level": "OFF",
      "includeExecutionData": false
    },
    "ResponseMetadata": {
      "RequestId": "8f506738-63cd-45d2-988c-279650f86843",
      "HTTPStatusCode": 200,
      "HTTPHeaders": {
        "x-amzn-requestid": "8f506738-63cd-45d2-988c-279650f86843",
        "content-type": "application/x-amz-json-1.0",
        "content-length": "6150"
      },
      "RetryAttempts": 0
    }
  }