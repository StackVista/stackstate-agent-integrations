{
  "instance": {
    "type": "aws-v2",
    "url": "731070500579"
  },
  "components": [
    {
      "externalId": "arn:aws:ecs:eu-west-1:731070500579:cluster/default",
      "type": {
        "name": "aws.ecs.cluster"
      },
      "data": {
        "Status": "ACTIVE",
        "Statistics": [],
        "ClusterName": "default",
        "RegisteredContainerInstancesCount": 0,
        "PendingTasksCount": 0,
        "RunningTasksCount": 1,
        "ActiveServicesCount": 1,
        "ClusterArn": "arn:aws:ecs:eu-west-1:731070500579:cluster/default",
        "Tags": {
          "stackstate-identifier": "sts-ecs-test"
        },
        "Name": "default",
        "CW": {
          "Dimensions": [
            {
              "Key": "ClusterName",
              "Value": "default"
            }
          ]
        },
        "Location": {
          "AwsAccount": "731070500579",
          "AwsRegion": "eu-west-1"
        }
      }
    },
    {
      "externalId": "arn:aws:ecs:eu-west-1:731070500579:cluster/StackState-ECS-Cluster",
      "type": {
        "name": "aws.ecs.cluster"
      },
      "data": {
        "Status": "ACTIVE",
        "Statistics": [],
        "ClusterName": "StackState-ECS-Cluster",
        "RegisteredContainerInstancesCount": 0,
        "PendingTasksCount": 0,
        "RunningTasksCount": 0,
        "ActiveServicesCount": 0,
        "ClusterArn": "arn:aws:ecs:eu-west-1:731070500579:cluster/StackState-ECS-Cluster",
        "Tags": {
          "StackstateIdentifier": "camel-case-id"
        },
        "Name": "StackState-ECS-Cluster",
        "CW": {
          "Dimensions": [
            {
              "Key": "ClusterName",
              "Value": "StackState-ECS-Cluster"
            }
          ]
        },
        "Location": {
          "AwsAccount": "731070500579",
          "AwsRegion": "eu-west-1"
        }
      }
    },
    {
      "externalId": "arn:aws:ecs:eu-west-1:731070500579:task/f89e69d0-0829-48b8-a503-c7b02a62fe9f",
      "type": {
        "name": "aws.ecs.task"
      },
      "data": {
        "LaunchType": "FARGATE",
        "Attachments": [
          {
            "Status": "ATTACHED",
            "Type": "ElasticNetworkInterface",
            "Id": "6cfb7da6-10aa-4467-b727-9765a18fdcb7",
            "Details": [
              {
                "Name": "subnetId",
                "Value": "subnet-acb373f6"
              },
              {
                "Name": "networkInterfaceId",
                "Value": "eni-98c93e9e"
              },
              {
                "Name": "macAddress",
                "Value": "0a:3d:db:a5:fc:ec"
              },
              {
                "Name": "privateIPv4Address",
                "Value": "10.0.0.53"
              }
            ]
          }
        ],
        "ClusterArn": "arn:aws:ecs:eu-west-1:731070500579:cluster/default",
        "DesiredStatus": "RUNNING",
        "CreatedAt": "2018-06-28T14:14:56.166000+02:00",
        "TaskArn": "arn:aws:ecs:eu-west-1:731070500579:task/f89e69d0-0829-48b8-a503-c7b02a62fe9f",
        "Group": "service:sample-app-service",
        "PullStartedAt": "2018-06-28T14:15:07.801000+02:00",
        "Version": 3,
        "Memory": "512",
        "ConnectivityAt": "2018-06-28T14:15:00.964000+02:00",
        "StartedAt": "2018-06-28T14:15:29.801000+02:00",
        "TaskDefinitionArn": "arn:aws:ecs:eu-west-1:731070500579:task-definition/first-run-task-definition:2",
        "Containers": [
          {
            "ContainerArn": "arn:aws:ecs:eu-west-1:731070500579:container/b0eee7fe-43be-4f77-9345-fb02c8d82290",
            "TaskArn": "arn:aws:ecs:eu-west-1:731070500579:task/f89e69d0-0829-48b8-a503-c7b02a62fe9f",
            "Name": "sample-app",
            "NetworkBindings": [],
            "LastStatus": "RUNNING",
            "HealthStatus": "UNKNOWN",
            "NetworkInterfaces": [
              {
                "PrivateIpv4Address": "10.0.0.53",
                "AttachmentId": "6cfb7da6-10aa-4467-b727-9765a18fdcb7"
              }
            ]
          },
          {
            "ContainerArn": "arn:aws:ecs:eu-west-1:731070500579:container/b0eee7fe-43be-4f77-8844-fb02c8d82290",
            "TaskArn": "arn:aws:ecs:eu-west-1:731070500579:task/f89e69d0-0829-48b8-a503-c7b02a62fe9f",
            "Name": "xray-daemon",
            "NetworkBindings": [],
            "LastStatus": "RUNNING",
            "HealthStatus": "UNKNOWN",
            "NetworkInterfaces": [
              {
                "PrivateIpv4Address": "10.0.0.54",
                "AttachmentId": "6cfb7da6-10aa-4467-b727-9765a18fdcb7"
              }
            ]
          }
        ],
        "LastStatus": "RUNNING",
        "Connectivity": "CONNECTED",
        "HealthStatus": "UNKNOWN",
        "PlatformVersion": "1.1.0",
        "Overrides": {
          "ContainerOverrides": [
            {
              "Name": "sample-app"
            }
          ]
        },
        "PullStoppedAt": "2018-06-28T14:15:29.801000+02:00",
        "Cpu": "256",
        "StartedBy": "ecs-svc/9223370506666684362",
        "Name": "first-run-task-definition:2",
        "Location": {
          "AwsAccount": "731070500579",
          "AwsRegion": "eu-west-1"
        },
        "URN": [
          "urn:service-instance:/service-sample-app-service-sample-app:/10.0.0.53",
          "urn:service-instance:/service-sample-app-service-xray-daemon:/10.0.0.54"
        ]
      }
    },
    {
      "externalId": "arn:aws:ecs:eu-west-1:731070500579:service/sample-app-service",
      "type": {
        "name": "aws.ecs.service"
      },
      "data": {
        "Status": "ACTIVE",
        "ServiceRegistries": [],
        "PendingCount": 0,
        "LaunchType": "FARGATE",
        "HealthCheckGracePeriodSeconds": 0,
        "LoadBalancers": [
          {
            "ContainerName": "sample-app",
            "TargetGroupArn": "arn:aws:elasticloadbalancing:eu-west-1:731070500579:targetgroup/EC2Co-Defau-7HYSTVRX07KO/a7e4eb718fda7510",
            "ContainerPort": 80
          }
        ],
        "RoleArn": "arn:aws:iam::731070500579:role/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
        "PlacementConstraints": [],
        "CreatedAt": "2018-06-28T14:14:51.445000+02:00",
        "DesiredCount": 1,
        "NetworkConfiguration": {
          "AwsvpcConfiguration": {
            "Subnets": [
              "subnet-8b8016c3",
              "subnet-acb373f6"
            ],
            "SecurityGroups": [
              "sg-1aacb367"
            ],
            "AssignPublicIp": "ENABLED"
          }
        },
        "PlatformVersion": "LATEST",
        "ServiceName": "sample-app-service",
        "ClusterArn": "arn:aws:ecs:eu-west-1:731070500579:cluster/default",
        "TaskDefinition": "arn:aws:ecs:eu-west-1:731070500579:task-definition/first-run-task-definition:2",
        "ServiceArn": "arn:aws:ecs:eu-west-1:731070500579:service/sample-app-service",
        "DeploymentConfiguration": {
          "MaximumPercent": 200,
          "MinimumHealthyPercent": 100
        },
        "Deployments": [
          {
            "Status": "PRIMARY",
            "NetworkConfiguration": {
              "AwsvpcConfiguration": {
                "Subnets": [
                  "subnet-8b8016c3",
                  "subnet-acb373f6"
                ],
                "SecurityGroups": [
                  "sg-1aacb367"
                ],
                "AssignPublicIp": "ENABLED"
              }
            },
            "PendingCount": 0,
            "LaunchType": "FARGATE",
            "CreatedAt": "2018-06-28T14:14:51.445000+02:00",
            "DesiredCount": 1,
            "TaskDefinition": "arn:aws:ecs:eu-west-1:731070500579:task-definition/first-run-task-definition:2",
            "UpdatedAt": "2018-06-28T14:14:51.445000+02:00",
            "PlatformVersion": "1.1.0",
            "Id": "ecs-svc/9223370506666684362",
            "RunningCount": 1
          }
        ],
        "RunningCount": 1,
        "PlacementStrategy": [],
        "Tags": {
          "test-tag": "test-tag-value"
        },
        "Location": {
          "AwsAccount": "731070500579",
          "AwsRegion": "eu-west-1"
        },
        "Name": "sample-app-service",
        "CW": {
          "Dimensions": [
            {
              "Key": "ClusterName",
              "Value": "default"
            },
            {
              "Key": "ServiceName",
              "Value": "sample-app-service"
            }
          ]
        },
        "URN": [
          "urn:service:/service-sample-app-service-sample-app",
          "urn:service:/service-sample-app-service-xray-daemon"
        ]
      }
    }
  ],
  "relations": [
    {
      "externalId": "arn:aws:ecs:eu-west-1:731070500579:cluster/StackState-ECS-Cluster-uses_ec2_host-string",
      "type": {
        "name": "uses_ec2_host"
      },
      "sourceId": "arn:aws:ecs:eu-west-1:731070500579:cluster/StackState-ECS-Cluster",
      "targetId": "string",
      "data": {}
    },
    {
      "externalId": "arn:aws:ecs:eu-west-1:731070500579:cluster/default-uses_ec2_host-string",
      "type": {
        "name": "uses_ec2_host"
      },
      "sourceId": "arn:aws:ecs:eu-west-1:731070500579:cluster/default",
      "targetId": "string",
      "data": {}
    },
    {
      "externalId": "arn:aws:ecs:eu-west-1:731070500579:service/sample-app-service-uses service-arn:aws:elasticloadbalancing:eu-west-1:731070500579:targetgroup/EC2Co-Defau-7HYSTVRX07KO/a7e4eb718fda7510",
      "type": {
        "name": "uses service"
      },
      "sourceId": "arn:aws:ecs:eu-west-1:731070500579:service/sample-app-service",
      "targetId": "arn:aws:elasticloadbalancing:eu-west-1:731070500579:targetgroup/EC2Co-Defau-7HYSTVRX07KO/a7e4eb718fda7510",
      "data": {}
    },
    {
      "externalId": "arn:aws:ecs:eu-west-1:731070500579:service/sample-app-service-has_cluster_node-arn:aws:ecs:eu-west-1:731070500579:task/f89e69d0-0829-48b8-a503-c7b02a62fe9f",
      "type": {
        "name": "has_cluster_node"
      },
      "sourceId": "arn:aws:ecs:eu-west-1:731070500579:service/sample-app-service",
      "targetId": "arn:aws:ecs:eu-west-1:731070500579:task/f89e69d0-0829-48b8-a503-c7b02a62fe9f",
      "data": {}
    },
    {
      "externalId": "arn:aws:ecs:eu-west-1:731070500579:cluster/default-has_cluster_node-arn:aws:ecs:eu-west-1:731070500579:service/sample-app-service",
      "type": {
        "name": "has_cluster_node"
      },
      "sourceId": "arn:aws:ecs:eu-west-1:731070500579:cluster/default",
      "targetId": "arn:aws:ecs:eu-west-1:731070500579:service/sample-app-service",
      "data": {}
    },
    {
      "externalId": "arn:aws:ecs:eu-west-1:731070500579:service/sample-app-service-uses_service-arn:aws:iam::731070500579:role/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
      "type": {
        "name": "uses service"
      },
      "sourceId": "arn:aws:ecs:eu-west-1:731070500579:service/sample-app-service",
      "targetId": "arn:aws:iam::731070500579:role/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
      "data": {}
    }
  ],
  "delete_ids": []
}
